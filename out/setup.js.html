<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: setup.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: setup.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const { log } = console;

const CANVASWIDTH = 2560;
const CANVASHEIGHT = 1440;

let c = document.createElement("canvas");
let ctx = c.getContext("2d");
c.width = CANVASWIDTH;
c.height = CANVASHEIGHT;
c.style.background = '#000';
ctx.textBaseline = 'top';
ctx.fillStyle = '#fff';
ctx.font = "40px Arial";
document.body.appendChild(c);
ctx.imageSmoothingEnabled = false;

/**
 * @typedef {Object} MouseButton
 * @property {boolean} down true while this button is pressed
 * @property {Vector} start the position of the mouse the last time it was pressed
 * @property {Vector[]} path the path the mouse took the last time this button was held down
 */
/**
 * @typedef {Object} Mouse
 * @property {Vector} position the current position
 * @property {MouseButton} leftclick information about the mouse left click button
 * @property {MouseButton} rightclick information about the mouse right click button
 * @property {Menu} selected the current selected menu
 */
/**
 * @type {Mouse}
 */
const Mouse = {
	position: new Vector(0, 0),
	leftclick: {
		down: false,
		start: new Vector(0, 0),
		path: [],
	},
	rightclick: {
		down: false,
		start: new Vector(0, 0),
		path: [],
	},
	selected: null
};
let leftDrag = () => Vector.subtract(Mouse.position, Mouse.leftclickstart);
let rightDrag = () => Vector.subtract(Mouse.position, Mouse.rightclickstart);
let keymap = {};
let previousFrameTime, currentFrameTime, deltaTime;

let init = () => false;
let calc = () => false;
let draw = () => false;

let events = {
	mousemove: [],
	mousedown: [],
	mouseup  : [],
	keydown  : [],
	keyup    : [],
	wheel    : []
}

window.onload = () => {
	init();
    requestAnimationFrame(main);
	previousFrameTime = Date.now();
}

let main = () => {
	currentFrameTime = Date.now();
	deltaTime = currentFrameTime - previousFrameTime;
	calc();
	previousFrameTime = currentFrameTime;
    ctx.clearRect(0, 0, c.width, c.height);
    adjustSize();
	draw();
	UI.draw();
    requestAnimationFrame(main);
}

onmousemove = e => {
	Mouse.position = adjustMousePosition(e.clientX, e.clientY);
	if (Mouse.leftclick.down) Mouse.leftclick.path.push(Mouse.position.copy());
	if (Mouse.rightclick.down) Mouse.rightclick.path.push(Mouse.position.copy());
	for (let f of events.mousemove) f();
}
onmousedown = e => {
    if (e.button == 0) {
		Mouse.leftclick.down = true;
		Mouse.leftclick.start = Mouse.position.copy();
		Mouse.leftclick.path = [Mouse.position.copy()];
		Mouse.selected = null;
		
	}
    else if (e.button == 2) {
		Mouse.rightclick.down = true;
		Mouse.rightclick.start = Mouse.position.copy();
		Mouse.rightclick.path = [Mouse.position.copy()];
	}
    // handle start-of-press inputs
	for (let f of events.mousedown) f();
}
onmouseup = e => {
    if (e.button == 0) {
		Mouse.leftclick.down = false;
	}
    else if (e.button == 2) Mouse.rightclick.down = false;
    // handle end-of-press inputs
	for (let f of events.mouseup) f();
}
oncontextmenu = e => e.preventDefault(); // custom context menus?

onkeyup = e => {
    keymap[e.key] = false;
    // handle any one-time-per-key-press inputs
	for (let f of events.keyup) f(e.key);
}

onkeydown = e => {
    keymap[e.key] = true;
    // handle any key-held-down inputs
	for (let f of events.keydown) f(e.key);
}

onwheel = e => {
    // e.deltaY
	for (let f of events.wheel) f(e.deltaY);
}

let getAllButtonList = () => {
	
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Button.html">Button</a></li><li><a href="RectangleCollider.html">RectangleCollider</a></li></ul><h3>Global</h3><ul><li><a href="global.html#adjustMousePosition">adjustMousePosition</a></li><li><a href="global.html#adjustSize">adjustSize</a></li><li><a href="global.html#clamp">clamp</a></li><li><a href="global.html#clampUnordered">clampUnordered</a></li><li><a href="global.html#inRange">inRange</a></li><li><a href="global.html#inRangeUnordered">inRangeUnordered</a></li><li><a href="global.html#rangeOverlap">rangeOverlap</a></li><li><a href="global.html#rangeOverlapUnordered">rangeOverlapUnordered</a></li><li><a href="global.html#shortestAngleDist">shortestAngleDist</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Wed Jul 13 2022 19:19:03 GMT+0100 (British Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
